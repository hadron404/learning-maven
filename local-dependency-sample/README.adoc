

== POM Explanation

添加了一个本地模块的依赖。

[source,xml]
----

include::{docdir}/pom.xml[lines=1..]

----

<1> `dependencies` maven 项目中的所有需要的依赖
<2> `dependency` 每一个依赖的坐标信息


== Function of this module

[source,java]
----

include::{docdir}/src/main/java/org/example/HtmlPrinter.java[lines=3..]

----

== Run

=== Development

This  is my `Run` configuration file what auto generated by `IDEA`.

[source,xml]
----

include::{docdir}/local-dependency-sample.run.xml[lines=1...]

----

=== Compile,Build and Packaging

[source,bash]
----

mvn clean compile package -f pom.xml

----

如果直接运行，Maven 会报 Build Failed Error，类似这样

[source,log]
----
[ERROR] Failed to execute goal on project local-dependency-sample: Could not resolve dependencies for project org.example:local-dependency-sample:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at org.example:single-module:jar:0.0.1-SNAPSHOT: Failed to read artifact descriptor for org.example:single-module:jar:0.0.1-SNAPSHOT: Could not transfer artifact org.example:single-module:pom:0.0.1-SNAPSHOT from/to maven-central (https://central.maven.org/maven2/): transfer failed for https://central.maven.org/maven2/org/example/single-module/0.0.1-SNAPSHOT/single-module-0.0.1-SNAPSHOT.pom: Unknown host central.maven.org -> [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException


----

因为 `local-dependency-sample` 项目依赖了 `single-module`。但是远程仓库以及本地仓库都没有 `single-module` 坐标相关的 `jar` 包。

==== How to resolve this problem

进入 `local-dependency-sample` 依赖的本地模块，此处为 `single-module`，执行以下命令


[source,bash]
----

mvn clean compile package install -f pom.xml

----

如果是使用的 `IDEA`，可以进行类似下面这样的配置运行。

[source,xml]
----

include::{docdir}/../single-module/install-single-module.run.xml[lines=1...]

----

然后你会在你的本地Maven仓库中看到，`single-module` 的 maven 坐标

== Reference

* https://www.dba.cn/book/maven/MAVENZhongWenShouCe/APACHEMAVENGouJianZiDongHua.html[Build Automate]
* https://maven.apache.org/plugins/[Maven plugins]
* https://blog.csdn.net/bbj12345678/article/details/122842719[Maven 私服]
